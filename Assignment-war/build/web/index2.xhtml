<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>
            <h:outputStylesheet name ="css/creditStyle.css"></h:outputStylesheet>
            <script>
                function loadScript() {
                #{searchManagedBean.listAllTransactions()};
                    //document.getElementById().value = 
                }
            </script>

            FIT5042 Credit Task
        </title>
    </h:head>
    <h:body>
        <!-- Start Header -->
        <header>
            <h1>
                Search Banking Transactions
            </h1>
        </header>
        <!-- End Header -->
        <!-- Start Article -->
        <article>
            <h2>
                Enter information of the criteria you want to search with
            </h2>
            <hr/>
            <!-- Form -->
            <h:form>
                <p>
                    Transaction Number:
                    <h:message for="transNum" styleClass="error">
                    </h:message>
                </p>
                <h:inputText id="transNum" label="Message" size ="32" value = "#{searchManagedBean.transaction.transactionNum}">
                </h:inputText>
                <!-- Form submit button -->
                <p>
                    <!-- Name input -->
                    <p>
                        Transaction Type:
                        <h:message for="transType" styleClass="error">
                        </h:message>
                    </p>
                    <h:inputText id="transType" label="transType" size="32" value="#{searchManagedBean.transaction.transactionType}">
                    </h:inputText>

                    <!-- Age input -->
                    <p>
                        Transaction Name:
                        <h:message for="transName" styleClass="error"></h:message>
                    </p>
                    <h:inputText id="transName" label="transactionName"  size="32" value="#{searchManagedBean.transaction.transactionName}" >
                    </h:inputText>
                    <!-- Message input -->

                    <h:commandButton id="submit" value="Search" >
                    </h:commandButton>
                    <!-- <h:commandButton id="cmdTest" onclick="loadScript()" value="Test">
                         
                     </h:commandButton>
                    -->
                </p>

                <h:selectOneRadio id="searchBy" value="#{searchManagedBean.searchBy}">
                    <f:selectItem itemLabel="By Transaction Name" itemValue="name"></f:selectItem>
                    <f:selectItem itemLabel="By Transaction Type" itemValue="type"></f:selectItem>
                </h:selectOneRadio>
                <h:inputText id="keyword" value="#{searchManagedBean.keyword}"></h:inputText>
                <h:commandButton id="search" value="Search" action="#{searchManagedBean.doSearch()}"></h:commandButton>

                <!--      
                            <h:dataTable value="#{searchManagedBean.listAllTransactions()}" var="trans">
                  <h:column>
                              <f:facet name="header">
                                      <h:outputText value="Transaction ID"/>
                              </f:facet>
                      <h:outputText value="#{trans.transactionNum}"/>
                              <f:facet name="footer">
                                      <h:outputText value="Transaction ID footer"/>
                              </f:facet>
                      </h:column>
                      <h:column>
                              <f:facet name="header">
                                      <h:outputText value="Transaction Name"/>
                              </f:facet>
                          <h:outputText value="#{trans.transactionName}"/>
                              <f:facet name="footer">
                                      <h:outputText value="Tutorial Description"/>
                              </f:facet>
                      </h:column>
              </h:dataTable>
             
      
                      <table class="transaction_table">
                          <tr>
                              <th class="transaction_table_header">Table_Transaction ID</th>
                              <th class="transaction_table_header">Transaction Name</th>
      
                          </tr>
                          <tbody>
                              <ui:repeat var="tl" value="#{searchManagedBean.newTransactionList}" varStatus="status">
                                   <h:panelGroup rendered="#{status.even}">
                                      <tr>
                                          <td class="transaction_table_even_row">#{tl.transactionNum}</td>
                                          <td class="transaction_table_even_row">#{tl.transactionName}</td>
                                      </tr>
                                  </h:panelGroup>
                                  <h:panelGroup rendered="#{status.odd}">
                                      <tr>
                                          <td class="transaction_table_odd_row">#{tl.transactionNum}</td>
                                          <td class="transaction_table_odd_row">#{tl.transactionName}</td>
                                          >
                                      </tr>
                                  </h:panelGroup>
                              </ui:repeat>
                          </tbody>
                      </table>
                -->
                <table class="transaction_table">
                    <tr>
                        <th class="transaction_table_header">Table_Transaction ID</th>
                        <th class="transaction_table_header">Transaction Name</th>

                    </tr>
                    <tbody>
                        <ui:repeat var="tl" value="#{searchManagedBean.newTransactionList}" varStatus="status">
                            <tr>
                                <td class="transaction_table_even_row">#{tl.transactionNum}</td>
                                <td class="transaction_table_even_row">#{tl.transactionName}</td>
                            </tr>
                        </ui:repeat>
                    </tbody>
                </table>
                
                    <h:form>
                            <table class="transaction_table" id = "transTable">
                                <tr>
                                    <th class="transaction_table_header">Table_Transaction ID</th>
                                    <th class="transaction_table_header">Transaction Name</th>
                                    <th class = "transaction_table_header"> Details </th>
            
                                </tr>
                                <tbody>
                                    <ui:repeat var="tl" value="#{searchManagedBean.newTransactionList}" varStatus="status">
                                        <tr>
                                            <td class="transaction_table_even_row">#{tl.transactionNum}</td>
                                            <td class="transaction_table_even_row">#{tl.transactionName}</td>
                                            <td class = "transaction_table_even_row">
                                                <h:commandButton value="Hello" >
                                                    <f:param name="myParam" value="#{tl.transactionNum}" />
                                                </h:commandButton>
                                            </td>
                         
                                        </tr>
                                    </ui:repeat>
                                </tbody>
                            </table>
                        </h:form>

            </h:form>

            <!-- End Form -->
        </article>

        <!-- End Article -->
        <!-- Start Footer -->
        <footer>
            <p>
                This project created by Sheikh Shazeed Ahsan
            </p>
        </footer>
        <!-- End Footer -->
    </h:body>
</html>